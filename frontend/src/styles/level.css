/* ——— Level page ——— */
.level-root {
  min-height: calc(var(--vh, 1vh) * 100);
  color: #ffffff;
  padding: 16px;
}

/* top bar */
.level-topbar {
  display: flex; align-items: center; gap: 12px;
  margin: 6px 0 14px;
}
.level-topbar .btn.ghost { background: transparent; border: 1px solid #eee; }
.level-title-wrap h1 { margin: 0; font-size: 1.25rem; color: rgb(255, 179, 117)}
.level-title-wrap .muted { margin: 2px 0 0; color:#f3f4f6; }

/* card */
.level-progress-card {
  background: rgb(255, 179, 117);
  border-radius: 16px;
  border: 1px solid rgba(0,0,0,.06);
  box-shadow: 0 10px 30px rgba(0,0,0,.08);
  padding: 16px;
  margin: 8px 0 18px;
}
.lp-head { display:flex; justify-content:space-between; align-items:center; margin-bottom: 10px; }
.lp-head { color: #6c1a88; }

/* progress */
.progress-bar { width: 100%; height: 10px; border-radius: 999px; background: #e5e7eb; overflow: hidden; }
.progress-bar.thin { height: 8px; }
.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--pink), var(--purple), var(--green), var(--yellow));
  background-size: 300% 100%;
  animation: flow 6s linear infinite;
}
@keyframes flow { 0% { background-position: 0% 50%; } 100% { background-position: 200% 50%; } }

.level-section h2 { margin: 4px 0 10px; font-size: 1.05rem; }

/* scenarios */
.scenarios-grid { display: grid; gap: 14px; }
.scenario-card {
  display: block;
  background: rgb(172, 134, 207);
  border-radius: 16px;
  border: 1px solid rgba(0,0,0,.06);
  box-shadow: 0 10px 30px rgba(0,0,0,.08);
  padding: 14px;
  text-decoration: none;
  color: inherit;
  transition: transform .2s ease, box-shadow .2s ease;
}
.scenario-card:hover { transform: translateY(-2px); box-shadow: 0 12px 34px rgba(0,0,0,.10); }

.sc-top { display: grid; grid-template-columns: auto 1fr auto; align-items: center; gap: 12px; }
.sc-icon {
  width: 58px; height: 58px; border-radius: 14px;
  display:grid; place-items:center; font-size: 1.4rem;
  background: linear-gradient(135deg, #fde68a, #fecaca);
  box-shadow: inset 0 0 1px rgba(0,0,0,.06);
}
.sc-head h3 { margin: 0; font-size: 1rem; font-weight: 700; }
.sc-head .muted { margin: 2px 0 0; color: var(--ink-muted); }

.sc-cta .play-pill {
  display: inline-grid; place-items: center;
  width: 40px; height: 42px; border-radius: 999px;
  background: #ef4444; color: #fff; font-weight: 700;
  box-shadow: 0 10px 20px rgba(239, 68, 68, .35);
}

/* skeleton */
.skeleton { position: relative; min-height: 90px; overflow: hidden; }
.skeleton::after {
  content: ""; position: absolute; inset: 0;
  background: linear-gradient(90deg, #f3f4f6 25%, #e5e7eb 37%, #f3f4f6 63%);
  animation: shimmer 1.2s infinite;
}
@keyframes shimmer { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } }

.level-error, .level-empty {
  background: white; border: 1px solid rgba(0,0,0,.06);
  border-radius: 14px; padding: 16px; text-align: center;
}

/* Badge popup — backdrop */
.badgepop-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(252, 253, 255, 0.6);
  backdrop-filter: blur(2px);
  display: grid;
  place-items: center;
  z-index: 999;
  animation: bp-fade-in 200ms ease-out;
}

/* Badge popup — card */
.badgepop-card {
  background: #fff;
  color: #111;
  width: min(90vw, 420px);
  padding: 24px 20px;
  border-radius: 20px;
  box-shadow: 0 20px 50px rgba(0,0,0,.25);
  text-align: center;
  position: relative;
  overflow: hidden;
  animation: bp-pop 250ms cubic-bezier(.2, .9, .25, 1.4);
}

/* Medal icon with subtle shine */
.badgepop-icon {
  font-size: 56px;
  line-height: 1;
  margin-bottom: 12px;
  position: relative;
  display: inline-grid;
  place-items: center;
  width: 100px;
  height: 100px;
  border-radius: 50%;
  background: #fff; /* ✅ Solid white background behind image */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15); /* subtle depth */
  overflow: hidden;
}
.badgepop-icon::after {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 30% 30%, rgb(255, 255, 255),);
  animation: bp-shine 1.6s ease-in-out infinite;
  border-radius: 50%;
  pointer-events: none;
}

.badgepop-title {
  font-size: 20px;
  margin: 0 0 6px;
}

.badgepop-sub {
  margin: 0 0 16px;
  color: #555;
}

.badgepop-card .btn {
  padding: 10px 16px;
  border-radius: 12px;
  background: #111;
  color: #fff;
  border: 0;
  cursor: pointer;
  transition: transform .08s ease;
}
.badgepop-card .btn:active { transform: scale(.98); }

/* Animations */
@keyframes bp-fade-in {
  from { opacity: 0; } to { opacity: 1; }
}
@keyframes bp-pop {
  0% { transform: scale(.85); opacity: 0; }
  60% { transform: scale(1.04); opacity: 1; }
  100% { transform: scale(1); }
}
@keyframes bp-shine {
  0%, 100% { opacity: .35; transform: rotate(0deg) scale(1); }
  50% { opacity: .55; transform: rotate(8deg) scale(1.03); }
}
